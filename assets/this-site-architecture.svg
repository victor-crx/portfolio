<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 720" role="img" aria-labelledby="title desc">
  <title id="title">This Site architecture</title>
  <desc id="desc">Clean architecture diagram showing Pages connected to Worker API, with D1 and R2 downstream and security controls surrounding privileged actions.</desc>
  <defs>
    <linearGradient id="bgGrad" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0%" stop-color="#0b0b0d" />
      <stop offset="100%" stop-color="#121217" />
    </linearGradient>
    <linearGradient id="nodeGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#1e1e25" />
      <stop offset="100%" stop-color="#16161c" />
    </linearGradient>
    <style>
      .panel { fill: url(#nodeGrad); stroke: #3a3a44; stroke-width: 2; rx: 20; }
      .heading { fill: #f5f5f5; font-family: Inter, Arial, sans-serif; font-size: 30px; font-weight: 700; }
      .node { fill: #f5f5f5; font-family: Inter, Arial, sans-serif; font-size: 24px; font-weight: 600; }
      .sub { fill: #d8d8df; font-family: Inter, Arial, sans-serif; font-size: 17px; }
      .label { fill: #bdbdc8; font-family: Inter, Arial, sans-serif; font-size: 15px; letter-spacing: 0.05em; text-transform: uppercase; }
      .flow { stroke: #f5f5f5; stroke-width: 3; fill: none; marker-end: url(#arrow); }
      .accent { stroke: #c1121f; }
      .security { fill: #c1121f; fill-opacity: 0.08; stroke: #c1121f; stroke-width: 2; rx: 18; stroke-dasharray: 8 10; }
    </style>
    <marker id="arrow" markerWidth="12" markerHeight="12" refX="9" refY="6" orient="auto">
      <path d="M0,0 L12,6 L0,12 z" fill="#f5f5f5" />
    </marker>
  </defs>

  <rect x="0" y="0" width="1200" height="720" fill="url(#bgGrad)" />
  <text class="heading" x="80" y="84">/this-site public architecture</text>
  <text class="sub" x="80" y="116">Static-first delivery with guarded mutation path</text>

  <rect class="panel" x="90" y="190" width="280" height="130" />
  <text class="node" x="230" y="252" text-anchor="middle">Pages</text>
  <text class="sub" x="230" y="281" text-anchor="middle">Astro static frontend</text>

  <rect class="panel" x="465" y="190" width="280" height="130" />
  <text class="node" x="605" y="252" text-anchor="middle">Worker API</text>
  <text class="sub" x="605" y="281" text-anchor="middle">Validation + policy checks</text>

  <rect class="panel" x="840" y="130" width="250" height="120" />
  <text class="node" x="965" y="188" text-anchor="middle">D1</text>
  <text class="sub" x="965" y="216" text-anchor="middle">Relational records</text>

  <rect class="panel" x="840" y="270" width="250" height="120" />
  <text class="node" x="965" y="328" text-anchor="middle">R2</text>
  <text class="sub" x="965" y="356" text-anchor="middle">Object storage</text>

  <path class="flow" d="M370 255 L455 255" />
  <path class="flow" d="M745 255 L830 190" />
  <path class="flow" d="M745 255 L830 330" />

  <rect class="security" x="440" y="430" width="680" height="200" />
  <text class="label" x="470" y="465">Security envelope for privileged operations</text>

  <rect class="panel" x="470" y="485" width="200" height="110" />
  <text class="sub" x="570" y="535" text-anchor="middle">Access gate</text>
  <text class="sub" x="570" y="562" text-anchor="middle">(Cloudflare Access)</text>

  <rect class="panel" x="690" y="485" width="200" height="110" />
  <text class="sub" x="790" y="535" text-anchor="middle">RBAC roles</text>
  <text class="sub" x="790" y="562" text-anchor="middle">admin / reviewer</text>

  <rect class="panel" x="910" y="485" width="180" height="110" />
  <text class="sub" x="1000" y="535" text-anchor="middle">Audit log</text>
  <text class="sub" x="1000" y="562" text-anchor="middle">traceability</text>

  <path class="flow accent" d="M230 320 L230 540 L460 540" />
  <text class="label" x="230" y="360">admin path</text>

  <text class="label" x="90" y="668">Primary data path: Pages → Worker → D1 + R2</text>
</svg>
